<div class="row">
  <div class="col-md-7 col-md-offset-2">
    <%= button_to "Upvotes", :posts, method: 'get', params: {sort: 'upvotes'} %>
    <%= button_to "Date", :posts, method: 'get', params: {sort: 'date'} %>
  </div>
</div>

<br>
<br>

<% @posts.each do |post| %>
  <div class="row">
    <div class="col-md-7 col-md-offset-2">
      <span class="post-image">
        <%= image_tag post.image_url, size: '60x60' if post.image? %>
        <%= image_tag "default_no_image_for_post.png", size: '60x60' if !post.image? %>
      </span>

      <p class="post-title">
        <% if post.url? %>
          <a href= "<%= post.url %>" >
            <%= post.title %>
          </a>
        <% else %>
          <a href= "posts/<%=post.id%>">
            <%= post.title %>
          </a>
        <% end %>
      </p>
      <br>
      <br>
      <p class="post-info">
        <a href="posts/<%=post.id%>" class="post-info-link">
          by: <%= post.user.username %> |
          <%= time_ago_in_words(post.created_at) %> ago |
          <%= post.comments.count %> comments |
          votes: <%= post.score %>
        </a>
      </p>
    </div>

    <div class="col-md-1">
      <%= button_to "Upvote", post_votes_path(post), params: { value: 1, votable_id: post.id, votable_type: post.class } %>

      <%= button_to "Downvote", post_votes_path(post), params: { value: -1, votable_id: post.id, votable_type: post.class } %>
    </div>
  </div>
  <br>
<% end %>

<br>
<div class="row">
  <div class="col-md-4 col-md-offset-4">
    --<%= paginate @posts %>--
  </div>
</div>
